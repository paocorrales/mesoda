
<!-- README.md is generated from README.Rmd. Please edit that file -->

# mesoda

This repository contains the data and code for our paper:

> Corrales et. at., (YYYY). *Hourly Assimilation of Different Sources of Observations Including Satellite Radiances in a  Mesoscale Convective System Case During RELAMPAGO campaign*. In review
> <https://doi.org/xxx/xxx>

### How to cite

Please cite this compendium as:

> Corrales, P., et. al., (2022). *Compendium of R code for Hourly Assimilation of Different Sources of Observations Including Satellite Radiances in a  Mesoscale Convective System Case During RELAMPAGO campaign*. Accessed 06 Oct 2020. Online at
> <https://doi.org/xxx/xxx>

## Contents

The **analysis** directory contains:

  - [:file\_folder: paper](/analysis/paper): R Markdown source document
    for manuscript. Includes code to reproduce the figures and tables
    generated by the analysis. It also has a rendered version,
    `paper.pdf`, suitable for reading (the code is replaced by figures
    and tables in this file)
  - [:file\_folder: data](/analysis/data): Derived data used in the analysis. Raw data is available upon request. 
  - [:file\_folder: figures](/analysis/figures): Plots and other
    illustrations

## Running the code

Clone this repo. If using RStudio, open the project. 

### Installing system dependencies

System dependencies (on ubuntu) are listd in system-deps.txt. 
To install them you can use 

``` bash
xargs sudo apt-get install -y < system-deps.txt
```

### Installing R packages

This project uses the [renv](https://rstudio.github.io/renv/) package to manage a reproducible environment. If opening this project with RStudio or starting R from the command line from the root directory, renv should automagically install and load itself. 

To recreate the environment then run

```r
renv::restore()
```

This should install all the package dependencies needed to install the package and compile the document. Depending on your operating system, this could take a while. 

Then install this package with

```r
if (!require("devtools")) {
   install.packages("devtools")
}
devtools::install()
```

### Getting the data

To get the data needed to reproduce this paper is openly available in Zenodo at http://doi.org/10.5281/zenodo.7015913, version 0.9.2. You can download it running the `analysis/paper/download_derived-data.R`. The data will be stored in `analysis/data/derived_data`. 

Finally, knit the main manuscript located at `analysis/paper/paper_ana_20181122.Rmd`. 
